# Create New GitHub Branch

## Input
- Feature/Bug/Chore description: $ARGUMENTS
- Optional: Branch name (if David provides it, use it; otherwise generate by convention)

## Step 1: Retrieve Planning Information
1. **Load Session File**: Check for existing `.claude/sessions/context_session_{feature_name}.md` from explore-plan
2. **Extract Requirements**: Get detailed implementation plan and selected agents
3. **Validate Technology Stack**: Confirm which agents were selected:
   - Backend: NestJS or Laravel
   - Frontend: Angular or Flutter

## Step 2: Determine Branch Name

**Priority 1: Use David's provided branch name**
- If David specifies a branch name, use it exactly as provided
- Validate it follows git branch naming conventions (no spaces, special chars)

**Priority 2: Generate by convention (if not provided)**
- Analyze feature description to determine type:
  - `feat/` - New features or enhancements
  - `fix/` - Bug fixes
  - `docs/` - Documentation changes
  - `refactor/` - Code refactoring
  - `test/` - Test additions or updates
  - `chore/` - Build process or auxiliary tool changes
- Convert description to kebab-case: lowercase, hyphens, no special characters
- Example: "User authentication with JWT" → `feat/user-authentication-with-jwt`

## Step 3: Create Feature Branch
Using the branch name (from David or generated by convention):

1. **Validate Branch Name**: Ensure it follows conventions and doesn't already exist

2. **Ensure Clean State**: 
   ```bash
   git fetch origin
   git checkout develop 2>/dev/null || git checkout -b develop
   git pull origin develop 2>/dev/null || echo "No remote develop branch, continuing with local"
   ```

3. **Create Feature Branch**:
   ```bash
   # Use David's branch name or generated one
   git checkout -b $BRANCH_NAME develop
   echo "✅ Created branch: $BRANCH_NAME"
   ```

4. **Save Branch Info**: Update session file with branch name for next command

## Step 4: Link to Next Workflow Step
After branch creation:
1. Confirm branch name used (David's or generated)
2. **Next step**: `start-working-on-branch-new <branch-name>` to begin implementation
3. **Note**: David will manually create GitHub issues and PRs as needed
4. Provide summary of branch created

## Quality Checklist
- ✅ Branch name determined (David's preference or by convention)
- ✅ Branch created from develop
- ✅ Branch name follows convention (feat/fix/docs/refactor/test/chore)
- ✅ Session file updated with branch information
- ✅ Implementation plan available in session file